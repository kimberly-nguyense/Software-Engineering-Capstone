@startuml

class Task {
  - taskID : int
  - taskName : String
  - categoryName : String
  - startDate : String
  - endDate : String
  - isCompleted : boolean
  - timestampCompleted : long
  - userID : int
}

class Subtask {
  - subtaskID : int
  - subtaskName : String
  - subtaskDate : String
  - taskID : int
  - note : String
  - isCompleted : boolean
}

class User {
  - userID : int
  - username : String
  - hashedPassword : String
}

class Category {
  - categoryID : int
  - categoryName : String
}

class Repository {
  - TaskDAO : TaskDAO
  - SubtaskDAO : SubtaskDAO
  - UserDAO : UserDAO
  - CategoryDAO : CategoryDAO
  + getAllTasks()
  + insertTask()
  + updateTask()
  + deleteTask()
  + getUser()
  + addSampleData()
}

class TaskDatabaseBuilder {
  + getDatabase()
}

class TaskList {
  - repository : Repository
  - taskAdapter : TaskAdapter
  - userSessionManagement : UserSessionManagement
}

class TaskDetails {
  - repository : Repository
}

class SubtaskDetails {
  - repository : Repository
}

class LoginActivity {
  - input_username : EditText
  - input_password : EditText
}

class CalendarActivity {
  - calendarView : CalendarView
  - repository : Repository
}

class TaskAdapter {
  - taskList : List<Task>
}

class SubtaskAdapter {
  - subtaskList : List<Subtask>
}

class ReportAdapter {
  - tasks : List<Task>
}

class UserSessionManagement {
  - sharedPreferences : SharedPreferences
  - editor : SharedPreferences.Editor
}

Task <|-- Subtask
Repository --> TaskDatabaseBuilder
Repository --> User
Repository --> Category
TaskList --> Repository
TaskList --> TaskAdapter
TaskList --> UserSessionManagement
TaskDetails --> Repository
SubtaskDetails --> Repository
CalendarActivity --> Repository
LoginActivity --> UserSessionManagement

@enduml
